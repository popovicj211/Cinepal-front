<div class="card-body">
    <h2> Add or Update users </h2>
       <form (ngSubmit)="addUser()" id="addFormUser" name="addFormUser" [formGroup]="addFormUser" >

                <div class="form-group row mb-2">
                          <label class="col-md-2 col-form-label"
                            for="addNameUser">Name</label>
                           <div class="col-md-8">
                                     <input class="form-control"
                                      id = "addNameUser"
                                      name = "name"
                                      type = "text"
                                        placeholder = "Name (required)"
                                     formControlName = "name"
                                          [ngClass]="{'is-invalid': displayMessage.name}"  />
                                    <span class="invalid-feedback">
                                                 {{displayMessage.name}} 
                                       
                                    </span>
                            </div>
                 </div>
                 <div class="form-group row mb-2">
                    <label class="col-md-2 col-form-label"
                      for="addUsername">Username</label>
                     <div class="col-md-8">
                               <input class="form-control"
                                id = "addUsername"
                                name = "username"
                                type = "text"
                                  placeholder = "Username (required)"
                               formControlName = "username"
                                    [ngClass]="{'is-invalid': displayMessage.username}"  />
                              <span class="invalid-feedback">
                                           {{displayMessage.username}} 
                                 
                              </span>
                   </div>
              </div>
                  
              <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label"
                  for="addEmailUser">Email </label>
                 <div class="col-md-8">
                           <input class="form-control"
                            id = "addEmailUser"
                            name = "email"
                            type = "text"
                              placeholder = "Email (required)"
                           formControlName = "email"
                                [ngClass]="{'is-invalid': displayMessage.email}"  />
                          <span class="invalid-feedback">
                                       {{displayMessage.email}} 
                             
                          </span>
                </div>
            </div>
            <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label"
                  for="addPasswordUser"> Password </label>
                 <div class="col-md-8">
                           <input class="form-control"
                            id = "addPasswordUser"
                            name = "password"
                            type = "password"
                              placeholder = "Password (required)"
                           formControlName = "password"
                                [ngClass]="{'is-invalid': displayMessage.password}"  />
                          <span class="invalid-feedback">
                                       {{displayMessage.password}} 
                             
                          </span>
                </div>
            </div>
            <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label"
                  for="addRoleUser"> Role </label>
                 <div class="col-md-8">
                         <select  class="form-control"  id ="addRoleUser"   [ngClass]="{'is-invalid': displayMessage.role}" name = "role" formControlName="role"  >
                                  <option *ngFor="let rol of roles"  value="{{rol.id}}" >{{ rol.name }}  </option>
                         </select>
                          <span class="invalid-feedback">
                                       {{displayMessage.role}} 
                             
                          </span>
                </div>
            </div>
                
                  <div class="form-group row mb-2"> 
                                  <button type="submit" name="addUserBtn" id="addUserBtn"  [title]="addFormUser.valid ? 'Save your entered data' : 'Disabled until the form data is valid'" [disabled]="!addFormUser.valid" class="btn btn-outline-light" > Save </button>
                 </div>

     </form>
     <div *ngIf="message != '' ">
        <div *ngIf="success == true " class="alert alert-success mt-3" role="alert">
                     <p> {{ message }}  </p>
       </div>
       <div *ngIf="success == false " class="alert alert-danger mt-3" role="alert">
                           <p>  {{ message }} </p> 
       </div>
    </div>
     <form (ngSubmit)="upUser()" id="upFormUser" name="upFormUser" [formGroup]="upFormUser" >

        <div class="form-group row mb-2">
                  <label class="col-md-2 col-form-label"
                    for="upNameUser">Name</label>
                   <div class="col-md-8">
                             <input class="form-control"
                              id = "upNameUser"
                              name = "name"
                              type = "text"
                                placeholder = "Name (required)"
                             formControlName = "name"
                                  [ngClass]="{'is-invalid': displayMessage.name}"  />
                            <span class="invalid-feedback">
                                         {{displayMessage.name}} 
                               
                            </span>
                    </div>
         </div>
         <div class="form-group row mb-2">
            <label class="col-md-2 col-form-label"
              for="upUsername">Username</label>
             <div class="col-md-8">
                       <input class="form-control"
                        id = "upUsername"
                        name = "username"
                        type = "text"
                          placeholder = "Username (required)"
                       formControlName = "username"
                            [ngClass]="{'is-invalid': displayMessage.username}"  />
                      <span class="invalid-feedback">
                                   {{displayMessage.username}} 
                         
                      </span>
           </div>
      </div>
          
      <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label"
          for="upEmailUser">Email </label>
         <div class="col-md-8">
                   <input class="form-control"
                    id = "upEmailUser"
                    name = "email"
                    type = "text"
                      placeholder = "Email (required)"
                   formControlName = "email"
                        [ngClass]="{'is-invalid': displayMessage.email}"  />
                  <span class="invalid-feedback">
                               {{displayMessage.email}} 
                     
                  </span>
        </div>
    </div>
    <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label"
          for="upPasswordUser"> Password </label>
         <div class="col-md-8">
                   <input class="form-control"
                    id = "upPasswordUser"
                    name = "password"
                    type = "password"
                      placeholder = "Password (required)"
                   formControlName = "password"
                        [ngClass]="{'is-invalid': displayMessage.password}"  />
                  <span class="invalid-feedback">
                               {{displayMessage.password}} 
                     
                  </span>
        </div>
    </div>
    <div class="form-group row mb-2">
        <label class="col-md-2 col-form-label"
          for="upRoleUser"> Role </label>
         <div class="col-md-8">
                 <select  class="form-control"  id ="upRoleUser"   [ngClass]="{'is-invalid': displayMessage.role}" name = "role" formControlName="role"  >
                          <option *ngFor="let rol of roles"  value="{{rol.id}}" >{{ rol.name }}  </option>
                 </select>
                  <span class="invalid-feedback">
                               {{displayMessage.role}} 
                     
                  </span>
        </div>
    </div>
        
          <div class="form-group row mb-2"> 
                          <button type="submit" name="upUserBtn" id="upUserBtn"  [title]="upFormUser.valid ? 'Save your entered data' : 'Disabled until the form data is valid'" [disabled]="!upFormUser.valid" class="btn btn-outline-light" > Save </button>
         </div>

</form>
  
        <div class="table admintable">
              <table class="mx-auto">
                      <tr>
                             <th> # </th> 
                             <th> Name </th> 
                             <th> Username  </th>   
                             <th> Email </th> 
                              <th> Edit </th>
                              <th>  Delete </th>
                      </tr>
                       <tr *ngFor="let user of users; let i = index">
                                <td> {{ i+1 }} </td>
                                <td> {{ user.name }} </td>
                                <td> {{ user.username }}  </td>
                                <td> {{ user.email }} </td>
                                <td>
                                      <a routerLink="/admin/users/edit/{{user.id}}" class="btn btn-outline-primary btn-sm"
                                             >
                                        Edit
                                        </a>
                                </td>
                                <td>
                                      <button class="btn btn-outline-primary btn-sm"
                                             >
                                        Delete
                                      </button>
                               </td>
                       </tr>
              </table>    
              <div *ngIf="error != ''" class="alert alert-danger mx-auto my-5 " role="alert">
                      {{ error }} 
               </div>
        </div>
        <ul class="pagination justify-content-center" >
              <li class="page-item" *ngFor="let item of counter(page); let i = index"><a class="page-link colorWhite"  (click)="Paginate(i+1)"  routerLink="/admin/users/page/{{i+1}}"   > {{ i + 1 }} </a></li>
        </ul>
   </div>

